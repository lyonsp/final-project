mainPanel(plotlyOutput("bargraph"))
),
tabPanel("Seattle Schools",
sidebarPanel(
selectInput("selectlevel", label = "Select School Level",
choices = list("All" = "all",
"Elementary School" = "Elementary",
"Middle School" = "Middle School",
"High School" = "High School"))
),
mainPanel(leafletOutput("mymap")),
sidebarPanel(
selectInput("poop", label = "Percentage Level",
choices = list("Limited English" = "nlimeng",
"Free Lunches" = "nfree",
"Single Parents" = "noneparent"
)
)),
mainPanel(plotlyOutput("schoolDataChart"))
),
tabPanel("Comparison",
sidebarPanel(selectInput("choose", label = "Select Call Type",
choices = list("Burglary" = "BURGLARY",
"Liquor" = "LIQUOR VIOLATIONS",
"Assaults" = "ASSAULTS",
"Robbery" = "ROBBERY",
"Narcotics" = "NARCOTICS COMPLAINTS",
"Threats" = "THREATS, HARASSMENT",
"Homicide" = "HOMICIDE",
"Weapons" = "WEAPONS CALLS",
"Car Prowl" = "CAR PROWL",
"Shoplifting" = "SHOPLIFTING",
"Prostitution" = "PROSTITUTION"))
),
selectInput("whichtype", label = "Percentage Level",
choices = list("Limited English" = "limeng",
"Free Lunches" = "free",
"Single Parents" = "oneparent"
)),
mainPanel(leafletOutput("comparemap"))
),
tabPanel("Conclusion")
)
)
library(markdown)
library(plotly)
library(shiny)
library(dplyr)
library(leaflet)
shinyServer(function(input, output) {
output$mymap2 <- renderLeaflet({
selected_call <- choose_call_group(input$select)
leaflet(width = 10, height = 10) %>%
addTiles() %>%
fitBounds(min(call_info$Longitude), min(call_info$Latitude),
max(call_info$Longitude), max(call_info$Latitude)) %>%
addCircleMarkers(lng = selected_call$Longitude, lat = selected_call$Latitude,
radius = .5)
})
output$bargraph <- renderPlotly({
select_month(input$selectx)
})
output$mymap <- renderLeaflet({
selectedSchoolLevel <- selectSchoolLevel(input$selectlevel)
leaflet(width = 10, height = 10) %>%
addTiles() %>%
fitBounds(min(schoolData$longitude), min(schoolData$latitude),
max(schoolData$longitude), max(schoolData$latitude)) %>%
addCircleMarkers(lng = selectedSchoolLevel$longitude, lat = selectedSchoolLevel$latitude,
radius = 5)
})
output$schoolDataChart <- renderPlotly ({
x <- list(
title = "School Names"
)
y <- list(
title = "Number of Students"
)
title <- list(
title = "Number of Students vs Number of Free Lunches"
)
#schoolDataOrdered <- schoolData %>%  arrange(desc(eval(parse(text = input$poop))))
#schoolDataLevel <- schoolData %>%  filter(schoolLevel == eval(parse(text = input$school_Level)))
numberOfStudents <- plot_ly(schoolData,
x = School.Name,
y = n,
name = "Number Of Students",
type = "bar"
)
numberOfFreeLunches <- add_trace(
numberOfStudents,
x = School.Name,
y  = eval(parse(text = input$poop)),
xaxis = (title = "hi"),
name = "Number of Percentage"
)
layout(numberOfFreeLunches, barmode = "stack", xaxis = x, yaxis = y, title = title)
})
output$comparemap <- renderLeaflet({
selected_call <- choose_call_group(input$choose)
selected_sort <- make_choice(input$whichtype)
leaflet() %>%
addTiles() %>%
fitBounds(min(call_info$Longitude), min(call_info$Latitude),
max(call_info$Longitude), max(call_info$Latitude)) %>%
addCircleMarkers(lng = selected_call$Longitude, lat = selected_call$Latitude,
radius = .5, color = "blue") %>%
addCircleMarkers(lng = schoolData$longitude, lat = schoolData$latitude,
radius = 3, color = "red", fillOpacity = 3)
})
})
library(markdown)
library(plotly)
library(shiny)
library(dplyr)
library(leaflet)
shinyUI(navbarPage("Navbar!",
tabPanel("Intro",
includeMarkdown("testingOut.Rmd")),
tabPanel("911 Calls",
titlePanel("911 Call Data"),
sidebarPanel(selectInput("select", label = "Select Call Type",
choices = list("Burglary" = "BURGLARY",
"Liquor" = "LIQUOR VIOLATIONS",
"Assaults" = "ASSAULTS",
"Robbery" = "ROBBERY",
"Narcotics" = "NARCOTICS COMPLAINTS",
"Threats" = "THREATS, HARASSMENT",
"Homicide" = "HOMICIDE",
"Weapons" = "WEAPONS CALLS",
"Car Prowl" = "CAR PROWL",
"Shoplifting" = "SHOPLIFTING",
"Prostitution" = "PROSTITUTION"))
),
mainPanel("Locations of 911 Calls",
leafletOutput("mymap2")),
sidebarPanel(selectInput("selectx", label = "Select Month",
choices = list("Total" = "2012",
"January" = "^01/",
"February" = "^02/",
"March" = "^03/",
"April" = "^04/",
"May" = "^05/",
"June" = "^06/",
"July" = "^07/",
"August" = "^08/",
"September" = "^09/",
"October" = "^10/",
"November" = "^11/",
"December" = "^12/"),
selected = "2012")
),
mainPanel(plotlyOutput("bargraph"))
),
tabPanel("Seattle Schools",
sidebarPanel(
selectInput("selectlevel", label = "Select School Level",
choices = list("All" = "all",
"Elementary School" = "Elementary",
"Middle School" = "Middle School",
"High School" = "High School"))
),
mainPanel(leafletOutput("mymap")),
sidebarPanel(
selectInput("poop", label = "Percentage Level",
choices = list("Limited English" = "nlimeng",
"Free Lunches" = "nfree",
"Single Parents" = "noneparent"
)
)),
mainPanel(plotlyOutput("schoolDataChart"))
),
tabPanel("Comparison",
sidebarPanel(selectInput("choose", label = "Select Call Type",
choices = list("Burglary" = "BURGLARY",
"Liquor" = "LIQUOR VIOLATIONS",
"Assaults" = "ASSAULTS",
"Robbery" = "ROBBERY",
"Narcotics" = "NARCOTICS COMPLAINTS",
"Threats" = "THREATS, HARASSMENT",
"Homicide" = "HOMICIDE",
"Weapons" = "WEAPONS CALLS",
"Car Prowl" = "CAR PROWL",
"Shoplifting" = "SHOPLIFTING",
"Prostitution" = "PROSTITUTION"))
),
selectInput("whichtype", label = "Percentage Level",
choices = list("Limited English" = "limeng",
"Free Lunches" = "free",
"Single Parents" = "oneparent"
)),
mainPanel(leafletOutput("comparemap"))
),
tabPanel("Conclusion")
)
)
---
title: "testingOut"
output: html_document
---
Want to see if this works
library(plotly)
library(dplyr)
our_only_2012 <- filter(only_2012, grepl("BURGLARY|LIQUOR VIOLATIONS|
ASSAULTS|ROBBERY|NARCOTICS COMPLAINTS|
THREATS, HARASSMENT|HOMICIDE|WEAPONS CALLS|
CAR PROWL|SHOPLIFTING|PROSTITUTION",
Event.Clearance.Group))
select_month <- function(month) {
sorted_our_2012 <- our_only_2012 %>% group_by(Event.Clearance.Group) %>%
filter(grepl(month, Event.Clearance.Date)) %>%
summarise(total_calls = n()) %>% arrange(desc(total_calls))
summary_bar <- plot_ly(sorted_our_2012, type = "bar",
x = c(sorted_our_2012$Event.Clearance.Group),
y = c(sorted_our_2012$total_calls)) %>%
layout(title = "Call Type",
xaxis = list(title = "Call Type"),
yaxis = list(title = "Total Calls")) %>%
return()
}
library(markdown)
library(plotly)
library(shiny)
library(dplyr)
library(leaflet)
make_choice <- function(choice) {
newschoolData <- schoolData %>% select_(choice)
return(newschoolData)
}
schoolData <- read.csv("finalSchoolData.csv")
selectSchoolLevel <- function(gradeLevel) {
if(gradeLevel == "all") {
return(schoolData)
} else {
selectedLevel <- schoolData %>% filter(schoolLevel == gradeLevel)
return(selectedLevel)
}
}
selectSchoolLevel("Elementary")
shiny::runApp('~/Documents/UW_2015_2016/INFO201/finalGroup/final-project')
choose_call_group <- function(group) {
chosen_group <- only_2012 %>% filter(Event.Clearance.Group == group)
return(chosen_group)
}
shiny::runApp('~/Documents/UW_2015_2016/INFO201/finalGroup/final-project')
choose_call_group <- function(group) {
chosen_group <- only_2012 %>% filter(Event.Clearance.Group == group)
return(chosen_group)
}
shiny::runApp('~/Documents/UW_2015_2016/INFO201/finalGroup/final-project')
shiny::runApp('~/Documents/UW_2015_2016/INFO201/finalGroup/final-project')
library(plotly)
library(dplyr)
our_only_2012 <- filter(only_2012, grepl("BURGLARY|LIQUOR VIOLATIONS|
ASSAULTS|ROBBERY|NARCOTICS COMPLAINTS|
THREATS, HARASSMENT|HOMICIDE|WEAPONS CALLS|
CAR PROWL|SHOPLIFTING|PROSTITUTION",
Event.Clearance.Group))
select_month <- function(month) {
sorted_our_2012 <- our_only_2012 %>% group_by(Event.Clearance.Group) %>%
filter(grepl(month, Event.Clearance.Date)) %>%
summarise(total_calls = n()) %>% arrange(desc(total_calls))
summary_bar <- plot_ly(sorted_our_2012, type = "bar",
x = c(sorted_our_2012$Event.Clearance.Group),
y = c(sorted_our_2012$total_calls)) %>%
layout(title = "Call Type",
xaxis = list(title = "Call Type"),
yaxis = list(title = "Total Calls")) %>%
return()
}
shiny::runApp('~/Documents/UW_2015_2016/INFO201/finalGroup/final-project')
library(plotly)
library(dplyr)
our_only_2012 <- filter(only_2012, grepl("BURGLARY|LIQUOR VIOLATIONS|
ASSAULTS|ROBBERY|NARCOTICS COMPLAINTS|
THREATS, HARASSMENT|HOMICIDE|WEAPONS CALLS|
CAR PROWL|SHOPLIFTING|PROSTITUTION",
Event.Clearance.Group))
select_month <- function(month) {
sorted_our_2012 <- our_only_2012 %>% group_by(Event.Clearance.Group) %>%
filter(grepl(month, Event.Clearance.Date)) %>%
summarise(total_calls = n()) %>% arrange(desc(total_calls))
summary_bar <- plot_ly(sorted_our_2012, type = "bar",
x = c(sorted_our_2012$Event.Clearance.Group),
y = c(sorted_our_2012$total_calls)) %>%
layout(title = "Call Type",
xaxis = list(title = "Call Type"),
yaxis = list(title = "Total Calls")) %>%
return()
}
shiny::runApp('~/Documents/UW_2015_2016/INFO201/finalGroup/final-project')
library(plotly)
library(dplyr)
our_only_2012 <- filter(only_2012, grepl("BURGLARY|LIQUOR VIOLATIONS|
ASSAULTS|ROBBERY|NARCOTICS COMPLAINTS|
THREATS, HARASSMENT|HOMICIDE|WEAPONS CALLS|
CAR PROWL|SHOPLIFTING|PROSTITUTION",
Event.Clearance.Group))
our_2012 <- read.csv("our_2012.csv")
our_2012 <- read.csv("only_2012.csv")
getwd()
setwd("/Users/andrewkan/Documents/UW_2015_2016/INFO201/finalGroup/final-project")
library(plotly)
library(dplyr)
our_2012 <- read.csv("only_2012.csv")
our_only_2012 <- filter(only_2012, grepl("BURGLARY|LIQUOR VIOLATIONS|
ASSAULTS|ROBBERY|NARCOTICS COMPLAINTS|
THREATS, HARASSMENT|HOMICIDE|WEAPONS CALLS|
CAR PROWL|SHOPLIFTING|PROSTITUTION",
Event.Clearance.Group))
select_month <- function(month) {
sorted_our_2012 <- our_only_2012 %>% group_by(Event.Clearance.Group) %>%
filter(grepl(month, Event.Clearance.Date)) %>%
summarise(total_calls = n()) %>% arrange(desc(total_calls))
summary_bar <- plot_ly(sorted_our_2012, type = "bar",
x = c(sorted_our_2012$Event.Clearance.Group),
y = c(sorted_our_2012$total_calls)) %>%
layout(title = "Call Type",
xaxis = list(title = "Call Type"),
yaxis = list(title = "Total Calls")) %>%
return()
}
shiny::runApp()
only_2012 <- read.csv("only_2012.csv")
library(plotly)
library(dplyr)
only_2012 <- read.csv("only_2012.csv")
shiny::runApp()
shiny::runApp()
library(dplyr)
only_2012 <- read.csv("only_2012.csv")
shiny::runApp()
shiny::runApp()
shiny::runApp()
our_only_2012 <- filter(only_2012, grepl("BURGLARY|LIQUOR VIOLATIONS|
ASSAULTS|ROBBERY|NARCOTICS COMPLAINTS|
THREATS, HARASSMENT|HOMICIDE|WEAPONS CALLS|
CAR PROWL|SHOPLIFTING|PROSTITUTION",
Event.Clearance.Group))
View(our_2012)
shiny::runApp()
library(markdown)
library(plotly)
library(shiny)
library(dplyr)
library(leaflet)
shinyServer(function(input, output) {
output$mymap2 <- renderLeaflet({
selected_call <- choose_call_group(input$select)
leaflet(width = 10, height = 10) %>%
addTiles() %>%
fitBounds(min(t$Longitude), min(call_info$Latitude),
max(call_info$Longitude), max(call_info$Latitude)) %>%
addCircleMarkers(lng = selected_call$Longitude, lat = selected_call$Latitude,
radius = .5)
})
output$bargraph <- renderPlotly({
select_month(input$selectx)
})
output$mymap <- renderLeaflet({
selectedSchoolLevel <- selectSchoolLevel(input$selectlevel)
leaflet(width = 10, height = 10) %>%
addTiles() %>%
fitBounds(min(schoolData$longitude), min(schoolData$latitude),
max(schoolData$longitude), max(schoolData$latitude)) %>%
addCircleMarkers(lng = selectedSchoolLevel$longitude, lat = selectedSchoolLevel$latitude,
radius = 5)
})
output$schoolDataChart <- renderPlotly ({
x <- list(
title = "School Names"
)
y <- list(
title = "Number of Students"
)
title <- list(
title = "Number of Students vs Number of Free Lunches"
)
#schoolDataOrdered <- schoolData %>%  arrange(desc(eval(parse(text = input$poop))))
#schoolDataLevel <- schoolData %>%  filter(schoolLevel == eval(parse(text = input$school_Level)))
numberOfStudents <- plot_ly(schoolData,
x = School.Name,
y = n,
name = "Number Of Students",
type = "bar"
)
numberOfFreeLunches <- add_trace(
numberOfStudents,
x = School.Name,
y  = eval(parse(text = input$poop)),
xaxis = (title = "hi"),
name = "Number of Percentage"
)
layout(numberOfFreeLunches, barmode = "stack", xaxis = x, yaxis = y, title = title)
})
output$comparemap <- renderLeaflet({
selected_call <- choose_call_group(input$choose)
selected_sort <- make_choice(input$whichtype)
leaflet() %>%
addTiles() %>%
fitBounds(min(call_info$Longitude), min(call_info$Latitude),
max(call_info$Longitude), max(call_info$Latitude)) %>%
addCircleMarkers(lng = selected_call$Longitude, lat = selected_call$Latitude,
radius = .5, color = "blue") %>%
addCircleMarkers(lng = schoolData$longitude, lat = schoolData$latitude,
radius = 3, color = "red", fillOpacity = 3)
})
})
shiny::runApp()
call_info <- read.csv("call_info.csv")
call_info <- read.csv("call_info.csv")
shiny::runApp()
library(plotly)
library(dplyr)
only_2012 <- read.csv("only_2012.csv")
call_info <- read.csv("call_info.csv")
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
View(call_info)
shiny::runApp()
library(markdown)
library(plotly)
library(shiny)
library(dplyr)
library(leaflet)
shinyServer(function(input, output) {
output$mymap2 <- renderLeaflet({
selected_call <- choose_call_group(input$select)
leaflet(width = 10, height = 10) %>%
addTiles() %>%
fitBounds(min(call_info$Longitude), min(call_info$Latitude),
max(call_info$Longitude), max(call_info$Latitude)) %>%
addCircles(lng = selected_call$Longitude, lat = selected_call$Latitude,
radius = .5)
})
output$bargraph <- renderPlotly({
select_month(input$selectx)
})
output$mymap <- renderLeaflet({
selectedSchoolLevel <- selectSchoolLevel(input$selectlevel)
leaflet(width = 10, height = 10) %>%
addTiles() %>%
fitBounds(min(schoolData$longitude), min(schoolData$latitude),
max(schoolData$longitude), max(schoolData$latitude)) %>%
addCircles(lng = selectedSchoolLevel$longitude, lat = selectedSchoolLevel$latitude,
radius = 5)
})
output$schoolDataChart <- renderPlotly ({
x <- list(
title = "School Names"
)
y <- list(
title = "Number of Students"
)
title <- list(
title = "Number of Students vs Number of Free Lunches"
)
#schoolDataOrdered <- schoolData %>%  arrange(desc(eval(parse(text = input$poop))))
#schoolDataLevel <- schoolData %>%  filter(schoolLevel == eval(parse(text = input$school_Level)))
numberOfStudents <- plot_ly(schoolData,
x = School.Name,
y = n,
name = "Number Of Students",
type = "bar"
)
numberOfFreeLunches <- add_trace(
numberOfStudents,
x = School.Name,
y  = eval(parse(text = input$poop)),
xaxis = (title = "hi"),
name = "Number of Percentage"
)
layout(numberOfFreeLunches, barmode = "stack", xaxis = x, yaxis = y, title = title)
})
output$comparemap <- renderLeaflet({
selected_call <- choose_call_group(input$choose)
selected_sort <- make_choice(input$whichtype)
leaflet() %>%
addTiles() %>%
fitBounds(min(call_info$Longitude), min(call_info$Latitude),
max(call_info$Longitude), max(call_info$Latitude)) %>%
addCircles(lng = selected_call$Longitude, lat = selected_call$Latitude,
radius = .5, color = "blue") %>%
addCircles(lng = schoolData$longitude, lat = schoolData$latitude,
radius = 3, color = "red", fillOpacity = 3)
})
})
shiny::runApp()
shiny::runApp()
View()
View(schoolData)
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
choose_call_group("Burglary")
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
?addCircleMarkers
shiny::runApp()
shiny::runApp()
